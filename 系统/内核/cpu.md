一个cpu只能运行一个进程，多个cpu才可以真正并行的运行多个进程（取决于cpu线程数）

内核建立了多任务的错觉，其实内核是很快的将进程保存在某个状态，再将某个进程从某个状态中恢复，这叫做**进程切换**

进程切换必须的条件

* 目标进程的 cpu寄存器内容 和 虚拟地址空间的结构 与之前完全相同

进程切换过程，**进程调度、上下文切换**

调度器的一般原理是，按所能分配的计算能力，向系统中的每个进程提供最大的公正性。或者从另一个角度来说，它试图确保没有进程被亏待。

1. 各个进程分配多长时间？
2. 何时切换到下一个进程？
3. 下一个进程是那个？

#### 一、各个进程分配的时间

按所能分配的计算能力，向系统中的每个进程提供最大的公平性，它试图让进程没有亏待

**完全公平调度器**在 linux 2.6.23 合并起来了，它抛弃了原有的调度原则

#### 二、何时切换到下一个进程

##### 抢占调度

支持在紧急情况下切换到另一个进程，甚至当前处于核心态执行系统调用时，中断处理期间不行

